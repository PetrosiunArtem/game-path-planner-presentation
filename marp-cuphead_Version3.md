---
marp: true
theme: default
paginate: true
size: 16:9
title: "Cuphead Path Planner — MVP"
description: "Персональные маршруты к целям + оценка времени. Презентация для защиты проекта."
class: lead
---

# Cuphead Path Planner  
Персональные маршруты к целям + оценка времени  
MVP для одной игры — Cuphead

Автор: **@PetrosiunArtem**

---

## Описание идеи — проблема
- Гайды по Cuphead **не персонализированы**: не учитывают ваши навыки, оружие, текущий прогресс.
- Игроку сложно понять, **сколько времени** займёт цель и **какой порядок** шагов даст лучший шанс.

---

## Описание идеи — решение и функционал
- Персональный план из действий для выбранной цели: S‑Rank, Pacifist, все оружия до Isle III.
- Ввод профиля:
  - Оружия, чары, Super Arts
  - Навыки: accuracy, parry, survival, movement, pattern recognition
- Выдаём **2–3 альтернативных маршрута** с ETA/рисками и объяснением выбора.

---

## Чем лучше существующих решений?
- **Персонализация** под навыки и лоадаут.
- **Прозрачность**: расчет времени/вероятностей, вклад шагов в экономию.
- **Фокус на Cuphead**: метрики релевантны (S‑ранг, Pacifist, монеты, фазы/HP/DPS).

---

## Пользовательские сценарии (1/2)
1) **Все оружия до Isle III**  
Собрать монеты → купить ключевые пушки (Roundabout/Spread/Charge)  
→ рекомендованный порядок уровней/секретных монет.

2) **S‑Rank на Isle I**  
Подбор лоадаута → план тренировок парри → порядок боссов с ETA и ожидаемым числом попыток.

---

## Пользовательские сценарии (2/2)
3) **Pacifist Run‑and‑Gun**  
Маршрут, чекпоинты парри, рекомендации по Smoke Bomb.  
После каждой попытки — обновление прогресса и пересчёт времени.

---

## Дизайн — Главная (вайрфрейм)
- Выбор цели
- Карточка профиля навыков
- Кнопка “Рассчитать план”

(см. Reveal-версию для визуального вайрфрейма)

---

## Дизайн — Профиль/прогресс (вайрфрейм)
- Таб “Оружия/чары/Super Arts”
- Таб “Статус уровней/контрактов/монет”
- Навыковый профиль и familiarities

---

## Дизайн — План и альтернативы (вайрфрейм)
- Маршрут A: быстрее
- Маршрут B: надёжнее (с практикой)
- Маршрут C: экономия монет/ресурсов  
Каждый — ETA, риск, шаги, вклад в итог.

---

## Архитектура расчета времени
- Боссы: сумма фаз HP / эффективный DPS (оружие × accuracy) + оверхед.
- p_success = sigmoid(a0 + a1·survival + a2·parry + a3·movement + a4·familiarity − a5·difficulty).
- Ожидаемое время попыток: (T_raw + θ·T_raw·(1−p)) / p, θ≈0.5.

---

## REST API (черновик)
Base: `/api/v1`
- GET `/game/cuphead/goals` — цели
- POST `/game/cuphead/plan` — расчёт плана
- PATCH `/profiles/{id}/progress` — прогресс
- POST `/telemetry/boss_attempt` — попытка босса
- POST `/telemetry/run_level` — прохождение Run‑and‑Gun
- GET `/content/version` — версия контента

---

## Пример запроса и ответа
Запрос:
```json
{
  "goal_id": "s_rank_isle1",
  "profile": {
    "weapons_owned": ["Peashooter"],
    "charms_owned": ["SmokeBomb"],
    "super_arts_unlocked": 0,
    "coins_owned": 0,
    "skill_profile": {
      "accuracy": 0.55, "survival": 0.50,
      "parry_skill": 0.40, "movement": 0.60,
      "pattern_recognition": 0.45
    }
  },
  "preferences": {"optimize":"reliability","rank_target":"S"}
}
```

Ответ (суть):
```json
{
  "plans": [
    {"label":"быстрее","eta_min":25,"eta_max":40,"confidence":0.70}
  ]
}
```

---

## Данные и калибровка
- Источники: Cuphead Wiki (Fandom), speedrun.com.
- Храним min/median/p95 по действиям.
- Краудсорс времени → калибровка коэффициентов навыков.

---

## Безопасность и ToS
- Без чтения памяти и инжекта. Ручной ввод / импорт сейва по согласию.
- Минимальная телеметрия, опт‑ин, агрегация.

---

## Бизнес и метрики
- Freemium + PRO (советник лоадаута, практики, аналитика).
- Метрики: MAPE ETA, % завершенных планов, снижение попыток, D1/D7 ретеншн.

---

## План MVP (2 недели)
1. Сбор данных боссов/уровней/оружия.
2. JSON‑граф (20–40 действий) + оценщик времени.
3. Планировщик A* и Монте‑Карло.
4. UI: профиль → план → альтернативы → чеклист → пересчёт.

---

# Спасибо!
PDF/PPTX экспорт: см. README.